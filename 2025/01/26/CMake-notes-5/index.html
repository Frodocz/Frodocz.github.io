<!DOCTYPE html>
<html lang="cn">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="CMakeæ•™ç¨‹ï¼ˆäº”ï¼‰ï¼šCMakeå®‰è£…é…ç½®ä¸æœ€ä½³å®è·µ" />
    <meta name="hexo-theme-A4" content="v1.9.6" />
    <link rel="alternate icon" type="image/webp" href="/img/favicon.jpg">
    <title>Cz | A Chinese coder now living in SG</title>

    
        
<link rel="stylesheet" href="/css/highlight/style1.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
            
<link rel="stylesheet" href="/css/waline.css">

        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
            <!--è¿”å›é¡¶éƒ¨css-->
            
<link rel="stylesheet" href="/css/returnToTop.css">

            
<link rel="stylesheet" href="/css/unicons.css">

        
        
            <!--ç›®å½•-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    

    
        
<link rel="stylesheet" href="/css/returnToLastPage.css">

    
    
   
<link rel="stylesheet" href="/css/lightgallery-bundle.min.css">


<meta name="generator" content="Hexo 7.3.0"></head>
    
    

    
    



    

    
    

    
    
    
    <body>
        <script src="/js/darkmode-js.min.js"></script>
        
        <script>
            const options = {
                bottom: '40px', // default: '32px'
                right: 'unset', // default: '32px'
                left: '42px', // default: 'unset'
                time: '0.3s', // default: '0.3s'
                mixColor: '#fff', // default: '#fff'
                backgroundColor: ' #e4e4e4 ',  // default: '#fff'
                buttonColorDark: '#100f2c',  // default: '#100f2c'
                buttonColorLight: '#fff', // default: '#fff'
                saveInCookies: true, // default: true,
                label: 'ğŸŒ“', // default: ''
                autoMatchOsTheme: true // default: true
            }
            const darkmode = new Darkmode(options);
            darkmode.showWidget();
        </script>
        
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <style>
            .header-img {
                width: 56px;
                height: auto;
                object-fit: cover; /* ä¿æŒå›¾ç‰‡æ¯”ä¾‹ */
                transition: transform 0.3s ease-in-out; 
                border-radius: 50%; 
            }
            
        </style>
        <img 
            alt="^-^" 
            cache-control="max-age=86400" 
            class="header-img" 
            src="/img/favicon.jpg" 
        />
        <div class="header-content">
            <a class="logo" href="/">Cz</a> 
            <span class="description">#define ME &#34;A coder&#34;</span> 
        </div>
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">ğŸƒä¸»é¡µ</a></li>
            
        
            
                <li><a href="/list/">ğŸ–‹ï¸æ–‡ç« </a></li>
            
        
            
                <li><a href="/tags/">ğŸ“Œæ ‡ç­¾</a></li>
            
        
            
                <li><a href="/categories/">ğŸ”–åˆ†ç±»</a></li>
            
        
            
                <li><a href="/about/">ğŸ™ˆå…³äº</a></li>
            
        
            
                <li><a href="/now/">ğŸ“†ç¢ç‰‡</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">
    

    
        
            
                <div class="post-main-title" style="text-align: center;">
                    CMakeæ•™ç¨‹ï¼ˆäº”ï¼‰ï¼šCMakeå®‰è£…é…ç½®ä¸æœ€ä½³å®è·µ
                </div>
            
        
      
    

    

        
            <div class="post-head-meta-center">
        
                
                    <span>æœ€è¿‘æ›´æ–°ï¼š2025-01-26</span> 
                
                
                    
                        &nbsp; | &nbsp;
                    
                     <span>å­—æ•°æ€»è®¡ï¼š3.2k</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span>é˜…è¯»ä¼°æ—¶ï¼š12åˆ†é’Ÿ</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span id="busuanzi_container_page_pv">
                        é˜…è¯»é‡ï¼š<span id="busuanzi_value_page_pv"></span>æ¬¡
                    </span>
                
            </div>
    

    <div class="post-md">
        
            
        
        <div class=".article-gallery"><p>æœ¬ç¯‡æ–‡ç« ä½œä¸ºç³»åˆ—çš„æœ€åä¸€ç¯‡ï¼Œé¦–å…ˆé€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è®²è§£å¦‚ä½•å®Œæˆä¸€ä¸ªå®Œæ•´çš„å®‰è£…é…ç½®ï¼Œå¹¶ä»‹ç»ç¬”è€…è®¤ä¸ºçš„ CMake æœ€ä½³å®è·µã€‚</p>
<h2 id="1-CMake-åŒ…ç®¡ç†ä¸å®‰è£…é…ç½®"><a href="#1-CMake-åŒ…ç®¡ç†ä¸å®‰è£…é…ç½®" class="headerlink" title="1. CMake åŒ…ç®¡ç†ä¸å®‰è£…é…ç½®"></a>1. CMake åŒ…ç®¡ç†ä¸å®‰è£…é…ç½®</h2><p>å½“æˆ‘ä»¬å®Œæˆä¸€ä¸ªå¾ˆæ£’çš„åº“ï¼Œå¸Œæœ›èƒ½ä¼˜é›…åœ°åˆ†å‘ç»™åˆ«äººä½¿ç”¨æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ CMake å¼ºå¤§çš„åŒ…ç®¡ç†å’Œå®‰è£…é…ç½®åŠŸèƒ½ã€‚<br>å‡è®¾æˆ‘ä»¬å†™äº†ä¸€ä¸ªç®€å•çš„æ•°å­¦åº“<code>MathLib</code>ï¼Œä»£ç ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">makefile</span><br><span class="line">MathLib/</span><br><span class="line">â”œâ”€â”€ CMakeLists.txt         <span class="comment"># é¡¶å±‚ CMake é…ç½®æ–‡ä»¶</span></span><br><span class="line">â”œâ”€â”€ include/</span><br><span class="line">â”‚   â””â”€â”€ MathLib.h          <span class="comment"># å¤´æ–‡ä»¶</span></span><br><span class="line">â”œâ”€â”€ src/</span><br><span class="line">â”‚   â””â”€â”€ MathLib.cpp        <span class="comment"># æºæ–‡ä»¶</span></span><br><span class="line">â””â”€â”€ main.cpp               <span class="comment"># ç¤ºä¾‹ç¨‹åºï¼ˆä¾›æµ‹è¯•ï¼‰</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬çš„ç›®æ ‡å¾ˆç®€å•ï¼š</p>
<ol>
<li>æŠŠåº“æ–‡ä»¶å’Œå¤´æ–‡ä»¶â€œæ‰“åŒ…â€åˆ°ä¸€ä¸ªåœ°æ–¹ï¼›</li>
<li>ä½¿ç”¨è€…å¯ä»¥é€šè¿‡<code>find_package(MathLib)</code>æ‰¾åˆ°ä½ çš„åº“ï¼›</li>
<li>ä½¿ç”¨è€…å¯ä»¥é¡ºç•…ä½¿ç”¨ä½ çš„åº“ã€‚</li>
</ol>
<h3 id="1-1-é¡¹ç›®åˆå§‹åŒ–ï¼šå†™CMakeLists-txt"><a href="#1-1-é¡¹ç›®åˆå§‹åŒ–ï¼šå†™CMakeLists-txt" class="headerlink" title="1.1 é¡¹ç›®åˆå§‹åŒ–ï¼šå†™CMakeLists.txt"></a>1.1 é¡¹ç›®åˆå§‹åŒ–ï¼šå†™CMakeLists.txt</h3><p>é¦–å…ˆï¼Œå‘Šè¯‰ CMake è¿™æ˜¯ä¸€ä¸ªåº“é¡¹ç›®ï¼Œå¹¶è®¾ç½®å¤´æ–‡ä»¶ç›®å½•ï¼š</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span>(VERSION <span class="number">3.14</span>)</span><br><span class="line"><span class="keyword">project</span>(MathLib VERSION <span class="number">1.0</span>.<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰é™æ€åº“ç›®æ ‡</span></span><br><span class="line"><span class="keyword">add_library</span>(MathLib STATIC src/MathLib.cpp)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å¤´æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="keyword">target_include_directories</span>(MathLib PUBLIC </span><br><span class="line">    $&lt;BUILD_INTERFACE:<span class="variable">$&#123;CMAKE_SOURCE_DIR&#125;</span>/<span class="keyword">include</span>&gt;   <span class="comment"># æ„å»ºæ—¶ç”¨</span></span><br><span class="line">    $&lt;INSTALL_INTERFACE:<span class="keyword">include</span>&gt;                    <span class="comment"># å®‰è£…åç”¨</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>add_library(MathLib STATIC src/MathLib.cpp)</code>ï¼šå‘Šè¯‰ CMake æˆ‘ä»¬è¦ç”Ÿæˆä¸€ä¸ªå«<code>MathLib</code>çš„é™æ€åº“ï¼›</li>
<li><code>target_include_directories</code>ï¼šè®¾ç½®å¤´æ–‡ä»¶è·¯å¾„ï¼Œè¿™æ ·ç”¨æˆ·æ— è®ºæ˜¯å¼€å‘ä¸­ç”¨è¿˜æ˜¯å®‰è£…åç”¨ï¼Œéƒ½èƒ½æ‰¾åˆ°å¤´æ–‡ä»¶<ul>
<li><code>BUILD_INTERFACE</code>ï¼šæ„å»ºé˜¶æ®µä½¿ç”¨<code>include/</code>ç›®å½•ï¼›</li>
<li><code>INSTALL_INTERFACE</code>ï¼šè¡¨ç¤ºå®‰è£…åï¼Œåº“å’Œå¤´æ–‡ä»¶ä¼šè¢«å¤åˆ¶åˆ°ç”¨æˆ·æŒ‡å®šçš„å®‰è£…è·¯å¾„ï¼Œæ¯”å¦‚<code>/usr/local/include</code>æˆ–è‡ªå®šä¹‰çš„<code>/path/to/install/include</code>ã€‚</li>
</ul>
</li>
</ul>
<h3 id="1-2-å®‰è£…åº“å’Œå¤´æ–‡ä»¶"><a href="#1-2-å®‰è£…åº“å’Œå¤´æ–‡ä»¶" class="headerlink" title="1.2 å®‰è£…åº“å’Œå¤´æ–‡ä»¶"></a>1.2 å®‰è£…åº“å’Œå¤´æ–‡ä»¶</h3><p>ç°åœ¨åº“å·²ç»å¯ä»¥åœ¨é¡¹ç›®ä¸­æ­£å¸¸ç¼–è¯‘äº†ï¼Œä½†ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œæˆ‘ä»¬éœ€è¦åˆ¶ä½œä¸€ä¸ªâ€œå®‰è£…åŒ…â€ï¼ŒæŠŠå¤´æ–‡ä»¶å’Œåº“æ”¾åˆ°ä¸€ä¸ªç”¨æˆ·å®¹æ˜“æ‰¾åˆ°çš„ä½ç½®ã€‚<br>åœ¨<code>CMakeLists.txt</code>ä¸­æˆ‘ä»¬éœ€è¦æ·»åŠ å®‰è£…è§„åˆ™ï¼š</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…åº“æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">install</span>(TARGETS MathLib</span><br><span class="line">    <span class="keyword">EXPORT</span> MathLibTargets          <span class="comment"># å¯¼å‡ºç›®æ ‡é…ç½®</span></span><br><span class="line">    ARCHIVE DESTINATION lib        <span class="comment"># é™æ€åº“å®‰è£…åˆ° lib ç›®å½•</span></span><br><span class="line">    LIBRARY DESTINATION lib        <span class="comment"># åŠ¨æ€åº“ï¼ˆå¦‚æœæœ‰ï¼‰å®‰è£…åˆ° lib ç›®å½•</span></span><br><span class="line">    RUNTIME DESTINATION bin        <span class="comment"># å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆå¦‚æœæœ‰ï¼‰å®‰è£…åˆ° bin ç›®å½•</span></span><br><span class="line">    INCLUDES DESTINATION <span class="keyword">include</span>   <span class="comment"># å®‰è£…å¤´æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…å¤´æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">install</span>(DIRECTORY <span class="keyword">include</span>/ DESTINATION <span class="keyword">include</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>install(TARGETS MathLib ...)</code>ï¼šå®šä¹‰äº†åº“æ–‡ä»¶çš„å®‰è£…è§„åˆ™ï¼š<ul>
<li>é™æ€åº“ï¼ˆ<code>libMathLib.a</code>ï¼‰ä¼šè¢«å®‰è£…åˆ°<code>lib/</code>ç›®å½•ä¸‹</li>
<li>å¦‚æœæ˜¯åŠ¨æ€åº“ï¼ˆ<code>libMathLib.so</code>ï¼‰ï¼Œä¹Ÿä¼šè¢«å®‰è£…åˆ°<code>lib/</code>ç›®å½•ä¸‹</li>
<li>å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆå¦‚æœæœ‰ï¼‰ä¼šè¢«å®‰è£…åˆ°<code>bin/</code>ç›®å½•ä¸‹</li>
<li>å¤´æ–‡ä»¶çš„è·¯å¾„ä¼šè¢«å¯¼å‡ºï¼Œæ–¹ä¾¿ç”¨æˆ·æŸ¥æ‰¾</li>
</ul>
</li>
<li><code>install(DIRECTORY include/ DESTINATION include)</code>ï¼šæŠŠ<code>include/</code>ç›®å½•ä¸­çš„å¤´æ–‡ä»¶å¤åˆ¶åˆ°å®‰è£…è·¯å¾„çš„<code>include/</code>ä¸‹ã€‚</li>
</ul>
<p>é‚£ä¹ˆï¼Œå®‰è£…è·¯å¾„åœ¨å“ªé‡Œå‘¢ï¼Ÿ<br>CMake é»˜è®¤ä¼šæŠŠè¿™äº›æ–‡ä»¶å®‰è£…åˆ°ä¸€ä¸ªâ€œæ ¹è·¯å¾„â€ä¸‹ï¼Œè¿™ä¸ªæ ¹è·¯å¾„æ˜¯ç”¨æˆ·åœ¨è¿è¡Œå®‰è£…å‘½ä»¤æ—¶é€šè¿‡<code>--prefix</code>æŒ‡å®šçš„ã€‚æ¯”å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”¨æˆ·æ‰§è¡Œå®‰è£…å‘½ä»¤ï¼š</span></span><br><span class="line">cmake --install build --prefix /path/to/install</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ€ç»ˆçš„å®‰è£…ç»“æœ</span></span><br><span class="line">/path/to/install/</span><br><span class="line">â”œâ”€â”€ lib/               <span class="comment"># åº“æ–‡ä»¶</span></span><br><span class="line">â”‚   â””â”€â”€ libMathLib.a</span><br><span class="line">â”œâ”€â”€ include/           <span class="comment"># å¤´æ–‡ä»¶</span></span><br><span class="line">â””â”€â”€ â””â”€â”€ MathLib.h</span><br></pre></td></tr></table></figure>
<ul>
<li><code>lib/</code>å’Œ<code>include/</code>æ˜¯<code>install()</code>å®šä¹‰çš„ç›¸å¯¹è·¯å¾„ï¼›</li>
<li><code>--prefix</code>æŒ‡å®šäº†å®‰è£…çš„æ ¹ç›®å½•ï¼Œæœ€ç»ˆè·¯å¾„æ˜¯ä¸¤è€…æ‹¼æ¥è€Œæˆã€‚</li>
</ul>
<h3 id="1-3-ç”Ÿæˆé…ç½®æ–‡ä»¶"><a href="#1-3-ç”Ÿæˆé…ç½®æ–‡ä»¶" class="headerlink" title="1.3 ç”Ÿæˆé…ç½®æ–‡ä»¶"></a>1.3 ç”Ÿæˆé…ç½®æ–‡ä»¶</h3><p>ä¸ºäº†è®©ç”¨æˆ·ç”¨<code>find_package(MathLib)</code>æ–¹ä¾¿åœ°æ‰¾åˆ°åº“ï¼Œæˆ‘ä»¬éœ€è¦ç”Ÿæˆä¸¤ä¸ªé…ç½®æ–‡ä»¶ï¼š</p>
<ol>
<li><code>MathLibTargets.cmake</code>ï¼šç”± CMake ç”Ÿæˆï¼Œç”¨æ¥è®°å½•åº“çš„è¯¦ç»†ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼š<ul>
<li>åº“æ–‡ä»¶çš„ä½ç½®ï¼ˆ<code>libMathLib.a</code>æˆ–<code>libMathLib.so</code>ï¼‰</li>
<li>å¤´æ–‡ä»¶çš„ä½ç½®ï¼ˆ<code>include/MathLib.h</code>ï¼‰</li>
</ul>
</li>
<li><code>MathLibConfig.cmake</code>ï¼šéœ€è¦æ‰‹å†™ï¼Œå®ƒå°†è´Ÿè´£å¼•å…¥<code>MathLibTargets.cmake</code>ã€‚ç”¨æˆ·è°ƒç”¨<code>find_package(MathLib)</code>æ—¶ï¼ŒCMake ä¼šå…ˆåŠ è½½<code>MathLibConfig.cmake</code>ï¼Œå†é€šè¿‡å®ƒæ‰¾åˆ°åº“çš„è¯¦ç»†ä¿¡æ¯ã€‚</li>
</ol>
<p>é¦–å…ˆï¼Œåœ¨æ ¹ç›®å½•<code>CMakeLists.txt</code>ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¼å‡º MathLibTargets.cmake</span></span><br><span class="line"><span class="keyword">install</span>(<span class="keyword">EXPORT</span> MathLibTargets</span><br><span class="line">    <span class="keyword">FILE</span> MathLibTargets.cmake           <span class="comment"># å¯¼å‡ºçš„æ–‡ä»¶å</span></span><br><span class="line">    NAMESPACE MathLib::                 <span class="comment"># å‘½åç©ºé—´ï¼Œç”¨æˆ·ä¼šç”¨ MathLib::MathLib è®¿é—®ä½ çš„åº“</span></span><br><span class="line">    DESTINATION lib/cmake/MathLib       <span class="comment"># å®‰è£…åˆ°çš„è·¯å¾„</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… MathLibConfig.cmake</span></span><br><span class="line"><span class="keyword">install</span>(FILES cmake/MathLibConfig.cmake DESTINATION lib/cmake/MathLib)</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>install(EXPORT MathLibTargets ...)</code>ï¼š</p>
<ul>
<li>å‘Šè¯‰ CMake è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª<code>MathLibTargets.cmake</code>æ–‡ä»¶ï¼›</li>
<li>æ–‡ä»¶ä¸­ä¼šè®°å½•åº“çš„è·¯å¾„ã€å¤´æ–‡ä»¶è·¯å¾„ç­‰ä¿¡æ¯ï¼›</li>
<li>è®¾ç½®å‘½åç©ºé—´<code>MathLib::</code>ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡<code>MathLib::MathLib</code>ä½¿ç”¨ä½ çš„åº“ã€‚</li>
</ul>
</li>
<li><p><code>install(FILES ...)</code>ï¼š</p>
<ul>
<li>æŠŠæ‰‹å†™çš„<code>MathLibConfig.cmake</code>æ–‡ä»¶å®‰è£…åˆ°å’Œ<code>MathLibTargets.cmake</code>åŒä¸€ä¸ªç›®å½•ä¸‹ï¼›</li>
<li><code>MathLibConfig.cmake</code>çš„ä½œç”¨æ˜¯å¼•å…¥<code>MathLibTargets.cmake</code>ã€‚</li>
</ul>
</li>
</ul>
<p>ç„¶åï¼Œåœ¨<code>cmake/</code>ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶<code>MathLibConfig.cmake</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŠ è½½ MathLibTargets.cmake</span></span><br><span class="line"><span class="keyword">include</span>(<span class="string">&quot;$&#123;CMAKE_CURRENT_LIST_DIR&#125;/MathLibTargets.cmake&quot;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>$&#123;CMAKE_CURRENT_LIST_DIR&#125;</code>ï¼šè¡¨ç¤ºå½“å‰æ–‡ä»¶ï¼ˆ<code>MathLibConfig.cmake</code>ï¼‰æ‰€åœ¨çš„ç›®å½•ï¼›</li>
<li><code>include(...)</code>ï¼šåŠ è½½åŒç›®å½•ä¸‹çš„<code>MathLibTargets.cmake</code>ï¼ŒæŠŠåº“çš„è¯¦ç»†ä¿¡æ¯äº¤ç»™<code>CMake</code>ï¼Œç”¨æˆ·å¯é€šè¿‡<code>find_package(MathLib)</code>æ‰¾åˆ°ç›®æ ‡ã€‚</li>
</ul>
<h3 id="1-4-å¤„ç†ä¾èµ–åº“"><a href="#1-4-å¤„ç†ä¾èµ–åº“" class="headerlink" title="1.4 å¤„ç†ä¾èµ–åº“"></a>1.4 å¤„ç†ä¾èµ–åº“</h3><p>æœ‰æ—¶å€™ï¼Œä½ çš„åº“å¯èƒ½ä¾èµ–ç¬¬ä¸‰æ–¹åº“ï¼Œå¦‚<code>Boost</code>æˆ–<code>OpenCV</code>ã€‚ä¸ºäº†è®©ç”¨æˆ·ä½¿ç”¨ä½ çš„åº“æ—¶ä¸éœ€è¦é¢å¤–é…ç½®è¿™äº›ä¾èµ–ï¼ˆå¦‚<code>Boost</code>ï¼‰ï¼Œä½ éœ€è¦ä»¥ä¸‹ä¸¤æ­¥ï¼š</p>
<ol>
<li>åœ¨<code>MathLibConfig.cmake</code>ä¸­è¿½åŠ ä»¥ä¸‹å†…å®¹ï¼š</li>
</ol>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span>(CMakeFindDependencyMacro)</span><br><span class="line">find_dependency(Boost REQUIRED)  <span class="comment"># å£°æ˜ä¾èµ– Boost</span></span><br><span class="line"><span class="keyword">include</span>(<span class="string">&quot;$&#123;CMAKE_CURRENT_LIST_DIR&#125;/MathLibTargets.cmake&quot;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>include(CMakeFindDependencyMacro)</code>ï¼šå¼•å…¥ä¸€ä¸ªä¸“é—¨ç”¨äºå£°æ˜ä¾èµ–çš„å®ï¼›</li>
<li><code>find_dependency(Boost REQUIRED)</code>ï¼šå‘Šè¯‰ CMakeï¼Œ<code>MathLib</code>ä¾èµ–<code>Boost</code>ã€‚<br>ç”¨æˆ·è°ƒç”¨<code>find_package(MathLib)</code>æ—¶ï¼ŒCMake ä¼šè‡ªåŠ¨å°è¯•åŠ è½½<code>Boost</code>ã€‚</li>
</ul>
<ol start="2">
<li>åœ¨ç›®æ ‡ä¸Šç»‘å®šä¾èµ–ã€‚åœ¨åº“çš„<code>CMakeLists.txt</code>ä¸­ï¼Œå‘Šè¯‰ CMake <code>MathLib</code>ä½¿ç”¨äº†<code>Boost</code>ï¼š</li>
</ol>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">target_link_libraries</span>(MathLib PUBLIC Boost::Boost)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>PUBLIC</code>ï¼šè¡¨ç¤º<code>Boost</code>æ˜¯<code>MathLib</code>çš„å…¬å…±ä¾èµ–ï¼Œä»»ä½•é“¾æ¥<code>MathLib</code>çš„ç›®æ ‡éƒ½ä¼šè‡ªåŠ¨ç»§æ‰¿è¿™ä¸ªä¾èµ–ã€‚</li>
</ul>
<p>æœ€ç»ˆç”¨æˆ·åœ¨è‡ªèº«çš„é¡¹ç›®ä¸­ä½¿ç”¨<code>MathLib</code>åº“æ—¶ï¼Œåªéœ€è¦ä»¥ä¸‹ä¸¤è¡Œä»£ç ï¼š</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">find_package</span>(MathLib REQUIRED)</span><br><span class="line"><span class="keyword">target_link_libraries</span>(MyApp PUBLIC MathLib::MathLib)</span><br></pre></td></tr></table></figure>

<h3 id="1-5-ç”¨æˆ·å¦‚ä½•ä½¿ç”¨ä½ çš„åº“"><a href="#1-5-ç”¨æˆ·å¦‚ä½•ä½¿ç”¨ä½ çš„åº“" class="headerlink" title="1.5 ç”¨æˆ·å¦‚ä½•ä½¿ç”¨ä½ çš„åº“"></a>1.5 ç”¨æˆ·å¦‚ä½•ä½¿ç”¨ä½ çš„åº“</h3><h4 id="1-5-1-å¼€å‘è€…å®‰è£…åº“å¹¶åˆ†å‘ç»™ç”¨æˆ·"><a href="#1-5-1-å¼€å‘è€…å®‰è£…åº“å¹¶åˆ†å‘ç»™ç”¨æˆ·" class="headerlink" title="1.5.1 å¼€å‘è€…å®‰è£…åº“å¹¶åˆ†å‘ç»™ç”¨æˆ·"></a>1.5.1 å¼€å‘è€…å®‰è£…åº“å¹¶åˆ†å‘ç»™ç”¨æˆ·</h4><p>é¦–å…ˆï¼Œå¼€å‘è€…ï¼ˆä½ è‡ªå·±ï¼‰éœ€è¦å…ˆè¿è¡Œå®‰è£…å‘½ä»¤ï¼ŒæŠŠåº“æ•´ç†å¥½ï¼Œåˆ†å‘ç»™ç”¨æˆ·ã€‚å‡è®¾ä½ å¸Œæœ›å®‰è£…åˆ°<code>/path/to/install</code>ï¼š</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cmake -S . -B build</span><br><span class="line">cmake --<span class="keyword">install</span> build --prefix /path/to/<span class="keyword">install</span></span><br></pre></td></tr></table></figure>

<p>è¿™æ¡å‘½ä»¤æ‰§è¡Œåï¼Œå®‰è£…ç»“æœå¯èƒ½å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">/path/to/install/</span><br><span class="line">â”œâ”€â”€ include/           <span class="comment"># å¤´æ–‡ä»¶</span></span><br><span class="line">â”‚   â””â”€â”€ MathLib.h</span><br><span class="line">â”œâ”€â”€ lib/               <span class="comment"># åº“æ–‡ä»¶</span></span><br><span class="line">â”‚   â””â”€â”€ libMathLib.a</span><br><span class="line">â””â”€â”€ lib/cmake/MathLib/ <span class="comment"># é…ç½®æ–‡ä»¶</span></span><br><span class="line">    â”œâ”€â”€ MathLibConfig.cmake</span><br><span class="line">    â””â”€â”€ MathLibTargets.cmake</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªç›®å½•åŒ…å«äº†ä½ çš„åº“ã€å¤´æ–‡ä»¶å’Œé…ç½®æ–‡ä»¶ï¼Œç”¨æˆ·åªéœ€è¦æ‹¿åˆ°è¿™ä¸ªç›®å½•ï¼Œå°±å¯ä»¥æ–¹ä¾¿åœ°åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­ä½¿ç”¨ã€‚</p>
<h4 id="1-5-2-ç”¨æˆ·æ˜¯å¦‚ä½•æ‹¿åˆ°åº“çš„ï¼Ÿ"><a href="#1-5-2-ç”¨æˆ·æ˜¯å¦‚ä½•æ‹¿åˆ°åº“çš„ï¼Ÿ" class="headerlink" title="1.5.2 ç”¨æˆ·æ˜¯å¦‚ä½•æ‹¿åˆ°åº“çš„ï¼Ÿ"></a>1.5.2 ç”¨æˆ·æ˜¯å¦‚ä½•æ‹¿åˆ°åº“çš„ï¼Ÿ</h4><p>è¿™ä¸€æ­¥éå¸¸é‡è¦ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼è·å–ä½ çš„åº“ï¼š</p>
<ol>
<li>å¼€å‘è€…ç›´æ¥åˆ†å‘å®‰è£…ç›®å½•ï¼š<blockquote>
<p>å¼€å‘è€…æŠŠ<code>/path/to/install/MathLib</code>å‹ç¼©æˆä¸€ä¸ªåŒ…ï¼ˆå¦‚<code>MathLib-1.0.0.zip</code>ï¼‰ï¼Œå‘ç»™ç”¨æˆ·ã€‚ç”¨æˆ·è§£å‹åï¼Œå°±èƒ½ç›´æ¥ä½¿ç”¨è¿™ä¸ªåº“ã€‚</p>
</blockquote>
</li>
<li>å¼€å‘è€…æä¾›å®‰è£…åŒ…ï¼ˆ<code>CPack</code>ç”Ÿæˆï¼‰ï¼š<blockquote>
<p>å¦‚æœä½ ç”¨<code>CPack</code>åˆ›å»ºäº†<code>.zip</code>ã€<code>.deb</code>æˆ–<code>.rpm</code>ç­‰å®‰è£…åŒ…ï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥è§£å‹æˆ–é€šè¿‡åŒ…ç®¡ç†å·¥å…·å®‰è£…åˆ°è‡ªå·±çš„ç³»ç»Ÿä¸­ï¼›<br>æ¥ä¸‹æ¥ç”¨æˆ·åªéœ€é…ç½®é¡¹ç›®ï¼Œè®© CMake çŸ¥é“å»å“ªé‡Œæ‰¾è¿™ä¸ªåº“ã€‚</p>
</blockquote>
</li>
</ol>
<h4 id="1-5-3-ç”¨æˆ·çš„-CMakeLists-txt-è®¾ç½®"><a href="#1-5-3-ç”¨æˆ·çš„-CMakeLists-txt-è®¾ç½®" class="headerlink" title="1.5.3 ç”¨æˆ·çš„ CMakeLists.txt è®¾ç½®"></a>1.5.3 ç”¨æˆ·çš„ CMakeLists.txt è®¾ç½®</h4><p>å‡è®¾ç”¨æˆ·é¡¹ç›®çš„ç›®å½•ç»“æ„æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MyApp/</span><br><span class="line">â”œâ”€â”€ CMakeLists.txt       <span class="comment"># ç”¨æˆ·çš„ CMake é…ç½®</span></span><br><span class="line">â””â”€â”€ main.cpp             <span class="comment"># ç”¨æˆ·çš„ä»£ç </span></span><br></pre></td></tr></table></figure>

<p>ç”¨æˆ·éœ€è¦åœ¨è‡ªå·±çš„<code>CMakeLists.txt</code>ä¸­å‘Šè¯‰ CMake å»å“ªé‡Œæ‰¾ä½ çš„åº“ã€‚é…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span>(VERSION <span class="number">3.14</span>)</span><br><span class="line"><span class="keyword">project</span>(MyApp)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®š MathLib çš„è·¯å¾„</span></span><br><span class="line"><span class="keyword">list</span>(APPEND CMAKE_PREFIX_PATH <span class="string">&quot;/path/to/install&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰¾åˆ° MathLib</span></span><br><span class="line"><span class="keyword">find_package</span>(MathLib REQUIRED)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰ç”¨æˆ·çš„å¯æ‰§è¡Œæ–‡ä»¶</span></span><br><span class="line"><span class="keyword">add_executable</span>(MyApp main.cpp)</span><br><span class="line"><span class="keyword">target_link_libraries</span>(MyApp PRIVATE MathLib::MathLib)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>list(APPEND CMAKE_PREFIX_PATH &quot;/path/to/install&quot;)</code>ï¼šå‘Šè¯‰ CMake å»<code>/path/to/install</code>ç›®å½•æ‰¾<code>MathLib</code>ï¼›</li>
<li><code>find_package(MathLib REQUIRED)</code>ï¼šåŠ è½½<code>MathLibConfig.cmake</code>æ–‡ä»¶ï¼Œè¿›è€ŒåŠ è½½åº“ç›®æ ‡ï¼ˆ<code>MathLibTargets.cmake</code>ï¼‰å¹¶é…ç½®å¥½è·¯å¾„ï¼›</li>
<li><code>target_link_libraries</code>ï¼šå°†ç”¨æˆ·è‡ªå·±çš„ç¨‹åº<code>MyApp</code>ä¸<code>MathLib</code>é“¾æ¥åœ¨ä¸€èµ·ã€‚</li>
</ul>
<h4 id="1-5-4-ç”¨æˆ·ç¼–è¯‘é¡¹ç›®"><a href="#1-5-4-ç”¨æˆ·ç¼–è¯‘é¡¹ç›®" class="headerlink" title="1.5.4 ç”¨æˆ·ç¼–è¯‘é¡¹ç›®"></a>1.5.4 ç”¨æˆ·ç¼–è¯‘é¡¹ç›®</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cmake -S . -B build  <span class="comment"># é…ç½®é¡¹ç›®ï¼Œç”Ÿæˆæ„å»ºæ–‡ä»¶åˆ° build/ ç›®å½•</span></span><br><span class="line">cmake --build build  <span class="comment"># ç¼–è¯‘é¡¹ç›®ï¼Œä½¿ç”¨ build/ ç›®å½•ä¸­çš„æ„å»ºæ–‡ä»¶</span></span><br></pre></td></tr></table></figure>

<h2 id="2-CMake-æœ€ä½³å®è·µ"><a href="#2-CMake-æœ€ä½³å®è·µ" class="headerlink" title="2. CMake æœ€ä½³å®è·µ"></a>2. CMake æœ€ä½³å®è·µ</h2><ol>
<li><p>æ˜ç¡®æœ€ä½ç‰ˆæœ¬è¦æ±‚<br>å§‹ç»ˆåœ¨<code>CMakeLists.txt</code>å¼€å¤´å†™ä¸Š<code>cmake_minimum_required</code>ï¼ŒæŒ‡å®šæœ€ä½ç‰ˆæœ¬å·ï¼Œé¿å…ä½ç‰ˆæœ¬ç¯å¢ƒä¸‹å‡ºç°é”™è¯¯ã€‚</p>
</li>
<li><p>æ¸…æ™°çš„é¡¹ç›®ç»“æ„<br>æŠŠä»£ç ã€å¤´æ–‡ä»¶ã€ç¬¬ä¸‰æ–¹åº“ã€æ„å»ºæ–‡ä»¶åˆ†å¼€ç®¡ç†ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹ç»“æ„ï¼š</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">MyProject/</span><br><span class="line">â”œâ”€â”€ CMakeLists.txt       <span class="comment"># é¡¶å±‚é…ç½®æ–‡ä»¶</span></span><br><span class="line">â”œâ”€â”€ src/                 <span class="comment"># æºä»£ç </span></span><br><span class="line">â”œâ”€â”€ include/             <span class="comment"># å¤´æ–‡ä»¶</span></span><br><span class="line">â”œâ”€â”€ third_party/         <span class="comment"># ç¬¬ä¸‰æ–¹åº“</span></span><br><span class="line">â”œâ”€â”€ tests/               <span class="comment"># æµ‹è¯•ä»£ç </span></span><br><span class="line">â””â”€â”€ cmake/               <span class="comment"># è‡ªå®šä¹‰ CMake æ¨¡å—</span></span><br></pre></td></tr></table></figure>
<p>å»ºè®®ï¼šç”¨<code>include/</code>ç®¡ç†å…¬å…±å¤´æ–‡ä»¶ï¼Œ<code>src/</code>é‡Œåªæ”¾ç§æœ‰ä»£ç ã€‚è¿™æ ·åˆ«äººç”¨ä½ çš„é¡¹ç›®æ—¶ï¼Œä¸ä¼šè¢«ç§æœ‰å®ç°æ±¡æŸ“ã€‚</p>
<ol start="3">
<li>ä½¿ç”¨<code>target_*</code>ç³»åˆ—å‘½ä»¤<br>å°½é‡ä½¿ç”¨<code>target_*</code>ç³»åˆ—å‘½ä»¤ï¼ˆæ¯”å¦‚<code>target_include_directories</code>ã€<code>target_link_libraries</code>ï¼‰è€Œä¸æ˜¯å…¨å±€å˜é‡ï¼ˆå¦‚<code>CMAKE_CXX_FLAGS</code>ï¼‰ã€‚è¿™æ ·èƒ½ä¿è¯é…ç½®æ˜¯ç›®æ ‡ç‹¬ç«‹çš„ï¼Œå‡å°‘ç›¸äº’å¹²æ‰°ã€‚</li>
</ol>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¨èï¼šä¸ºæ¯ä¸ªç›®æ ‡å•ç‹¬è®¾ç½®é€‰é¡¹</span></span><br><span class="line"><span class="keyword">target_compile_options</span>(my_target PRIVATE -Wall -Wextra)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸æ¨èï¼šç›´æ¥ä¿®æ”¹å…¨å±€ç¼–è¯‘å™¨é€‰é¡¹</span></span><br><span class="line"><span class="keyword">set</span>(CMAKE_CXX_FLAGS <span class="string">&quot;$&#123;CMAKE_CXX_FLAGS&#125; -Wall -Wextra&quot;</span>)</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>æ¨¡å—åŒ–ç®¡ç†å¤šä¸ªå­é¡¹ç›®<br>å¦‚æœä½ çš„é¡¹ç›®æœ‰å¤šä¸ªæ¨¡å—æˆ–å­é¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨ add_subdirectory() å°†å®ƒä»¬æ•´åˆèµ·æ¥ã€‚</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">MyProject/</span><br><span class="line">â”œâ”€â”€ CMakeLists.txt         <span class="comment"># é¡¶å±‚ CMake é…ç½®</span></span><br><span class="line">â”œâ”€â”€ src/</span><br><span class="line">â”‚   â”œâ”€â”€ ModuleA/</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ CMakeLists.txt</span><br><span class="line">â”‚   â”‚   â””â”€â”€ ...ä»£ç ...</span><br><span class="line">â”‚   â”œâ”€â”€ ModuleB/</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ CMakeLists.txt</span><br><span class="line">â”‚   â”‚   â””â”€â”€ ...ä»£ç ...</span><br></pre></td></tr></table></figure>
<p>é¡¶å±‚ CMake æ–‡ä»¶ï¼š</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span>(VERSION <span class="number">3.14</span>)</span><br><span class="line"><span class="keyword">project</span>(MyProject)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ å­é¡¹ç›®</span></span><br><span class="line"><span class="keyword">add_subdirectory</span>(src/ModuleA)</span><br><span class="line"><span class="keyword">add_subdirectory</span>(src/ModuleB)</span><br></pre></td></tr></table></figure>
<p>å­é¡¹ç›® CMake æ–‡ä»¶ï¼š</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">add_library</span>(ModuleA module_a.cpp)</span><br><span class="line"><span class="keyword">target_include_directories</span>(ModuleA PUBLIC <span class="variable">$&#123;CMAKE_SOURCE_DIR&#125;</span>/<span class="keyword">include</span>)</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>æ˜¾å¼è®¾ç½®æ ‡å‡†ï¼ˆC++11&#x2F;14&#x2F;17&#x2F;20 ç­‰ï¼‰<br>æ˜ç¡®æŒ‡å®šä½¿ç”¨çš„ C++ æ ‡å‡†ï¼Œé¿å…ä¾èµ–ç¼–è¯‘å™¨çš„é»˜è®¤è®¾ç½®ï¼š</li>
</ol>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span>(CMAKE_CXX_STANDARD <span class="number">17</span>)</span><br><span class="line"><span class="keyword">set</span>(CMAKE_CXX_STANDARD_REQUIRED <span class="keyword">ON</span>)</span><br><span class="line"><span class="keyword">set</span>(CMAKE_CXX_EXTENSIONS <span class="keyword">OFF</span>)</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>ä½¿ç”¨<code>find_package</code>ç®¡ç†ä¾èµ–<br>å¯¹äºç¬¬ä¸‰æ–¹åº“ï¼Œä¼˜å…ˆç”¨<code>find_package()</code>ï¼Œå¯ä»¥è®© CMake è‡ªåŠ¨æ‰¾åˆ°åº“å¹¶é“¾æ¥ï¼š</li>
</ol>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">find_package</span>(Boost REQUIRED)</span><br><span class="line"><span class="keyword">target_link_libraries</span>(my_target PRIVATE Boost::Boost)</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ²¡æœ‰ç°æˆçš„<code>find_package</code>é…ç½®ï¼Œå¯ä»¥ç”¨<code>FetchContent</code>åŠ¨æ€æ‹‰å–ï¼š</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span>(FetchContent)</span><br><span class="line">FetchContent_Declare(</span><br><span class="line">    googletest</span><br><span class="line">    GIT_REPOSITORY https://github.com/google/googletest.git</span><br><span class="line">    GIT_TAG release-<span class="number">1.12</span>.<span class="number">1</span></span><br><span class="line">)</span><br><span class="line">FetchContent_MakeAvailable(googletest)</span><br></pre></td></tr></table></figure>

<ol start="7">
<li>ä½¿ç”¨<code>CMAKE_INSTALL_PREFIX</code>å®šä¹‰å®‰è£…è·¯å¾„<br>ä¸è¦ç¡¬ç¼–ç è·¯å¾„ï¼Œæ¯”å¦‚åƒä¸‹é¢è¿™æ ·å†™æ­»è·¯å¾„ä¼šå¸¦æ¥æƒé™é—®é¢˜å’Œä¸çµæ´»æ€§ï¼š</li>
</ol>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">install</span>(TARGETS MyLib DESTINATION /usr/local/lib)</span><br><span class="line"><span class="keyword">install</span>(DIRECTORY <span class="keyword">include</span>/ DESTINATION /usr/local/<span class="keyword">include</span>)</span><br></pre></td></tr></table></figure>
<p>æ¨èå†™æ³•ï¼š<br>ç”¨ç›¸å¯¹è·¯å¾„ï¼Œè®©ç”¨æˆ·é€šè¿‡<code>CMAKE_INSTALL_PREFIX</code>è‡ªå®šä¹‰å®‰è£…ä½ç½®ï¼š</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">install</span>(TARGETS MyLib DESTINATION lib)</span><br><span class="line"><span class="keyword">install</span>(DIRECTORY <span class="keyword">include</span>/ DESTINATION <span class="keyword">include</span>)</span><br></pre></td></tr></table></figure>
<p>ç”¨æˆ·æŒ‡å®šè·¯å¾„ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cmake -S . -B build -DCMAKE_INSTALL_PREFIX=/path/to/install</span><br><span class="line">cmake --build build</span><br><span class="line">cmake --install build</span><br></pre></td></tr></table></figure>
<ul>
<li>æ–‡ä»¶ä¼šå®‰è£…åˆ°<code>/path/to/install/lib</code>å’Œ<code>/path/to/install/include</code>ï¼›</li>
<li>æ›´çµæ´»ï¼Œæ— éœ€ç®¡ç†å‘˜æƒé™ï¼Œå¯è·¨å¹³å°</li>
</ul>
<ol start="8">
<li>å®šä¹‰å®‰è£…è§„åˆ™<br>æ˜ç¡®ä½ çš„åº“ã€å¤´æ–‡ä»¶å’Œé…ç½®æ–‡ä»¶çš„å®‰è£…è·¯å¾„ï¼Œæ–¹ä¾¿åˆ†å‘å’Œé›†æˆï¼š</li>
</ol>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">install</span>(TARGETS my_library</span><br><span class="line">    <span class="keyword">EXPORT</span> MyLibraryTargets</span><br><span class="line">    LIBRARY DESTINATION lib</span><br><span class="line">    ARCHIVE DESTINATION lib</span><br><span class="line">    INCLUDES DESTINATION <span class="keyword">include</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<ol start="9">
<li>æ˜ç¡®æ„å»ºç±»å‹<br>é»˜è®¤æƒ…å†µä¸‹ï¼ŒCMake æ„å»ºå¯èƒ½æ²¡æœ‰è®¾ç½®å…·ä½“çš„æ„å»ºç±»å‹ï¼ˆDebugã€Release ç­‰ï¼‰ã€‚å»ºè®®åœ¨<code>CMakeLists.txt</code>ä¸­è®¾ç½®é»˜è®¤çš„æ„å»ºç±»å‹ï¼Œé¿å…æ„å¤–ä½¿ç”¨æœªä¼˜åŒ–çš„æ„å»ºã€‚</li>
</ol>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é»˜è®¤æ„å»ºç±»å‹ä¸º Release</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">NOT</span> CMAKE_BUILD_TYPE)</span><br><span class="line">    <span class="keyword">set</span>(CMAKE_BUILD_TYPE <span class="string">&quot;Release&quot;</span> CACHE <span class="keyword">STRING</span> <span class="string">&quot;Choose the build type&quot;</span> FORCE)</span><br><span class="line"><span class="keyword">endif</span> ()</span><br><span class="line"></span><br><span class="line">ç”¨æˆ·ä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œè®¾ç½®ï¼š</span><br><span class="line">cmake -DCMAKE_BUILD_TYPE=Debug ..</span><br></pre></td></tr></table></figure>

<ol start="10">
<li>å¯ç”¨å•å…ƒæµ‹è¯•<br>ä½¿ç”¨ CMake çš„æµ‹è¯•åŠŸèƒ½ï¼ˆå¦‚<code>CTest</code>ï¼‰é›†æˆæµ‹è¯•æ¡†æ¶ï¼Œæ¯”å¦‚<code>Google Test</code>ï¼š</li>
</ol>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enable_testing</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ æµ‹è¯•å¯æ‰§è¡Œæ–‡ä»¶</span></span><br><span class="line"><span class="keyword">add_executable</span>(my_test <span class="keyword">test</span>.cpp)</span><br><span class="line"><span class="keyword">target_link_libraries</span>(my_test PRIVATE gtest gtest_main)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ³¨å†Œæµ‹è¯•</span></span><br><span class="line"><span class="keyword">add_test</span>(NAME MyTest <span class="keyword">COMMAND</span> my_test)</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡<code>ctest</code>å‘½ä»¤å¯ä»¥å¿«é€Ÿè¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctest --output-on-failure</span><br></pre></td></tr></table></figure>

<ol start="11">
<li>ä½¿ç”¨<code>build</code>ç›®å½•åˆ†ç¦»æ„å»ºæ–‡ä»¶<br>ç”Ÿæˆå•ç‹¬çš„<code>build</code>ç›®å½•æ˜¯ CMake çš„æœ€ä½³å®è·µä¹‹ä¸€ï¼Œä¼˜ç‚¹å¦‚ä¸‹ï¼š</li>
</ol>
<ul>
<li>æºç å¹²å‡€ï¼šæ‰€æœ‰æ„å»ºæ–‡ä»¶ï¼ˆå¦‚<code>Makefile</code>ã€ä¸­é—´æ–‡ä»¶ï¼‰éƒ½åœ¨<code>build</code>ç›®å½•ï¼Œæºç ä¸è¢«æ±¡æŸ“ï¼›</li>
<li>æ”¯æŒå¤šæ„å»ºç±»å‹ï¼šä½ å¯ä»¥åˆ›å»º<code>build-debug</code>ã€<code>build-release</code>ç­‰ç›®å½•ï¼Œåˆ†åˆ«ç®¡ç†è°ƒè¯•ç‰ˆå’Œå‘å¸ƒç‰ˆï¼›</li>
<li>æ˜“æ¸…ç†ï¼šåˆ é™¤<code>build</code>ç›®å½•å³å¯è½»æ¾é‡å»ºï¼Œä¸å½±å“æºç ã€‚</li>
</ul>
<p>ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> build &amp;&amp; <span class="built_in">cd</span> build</span><br><span class="line">cmake -S .. -B .</span><br><span class="line">make</span><br></pre></td></tr></table></figure>
<ul>
<li><code>-S ..</code>ï¼šæŒ‡å®šæºç ç›®å½•ã€‚</li>
<li><code>-B .</code>ï¼šæŒ‡å®šæ„å»ºç›®å½•ï¼ˆå½“å‰ç›®å½•ï¼‰ã€‚</li>
</ul>
<ol start="12">
<li>å®šä¹‰æ¥å£åº“<br>å¦‚æœæœ‰ä¸€äº›å¤´æ–‡ä»¶æ²¡æœ‰å®ç°ï¼ˆæ¯”å¦‚æ¥å£ã€çº¯æŠ½è±¡ç±»ï¼‰ï¼Œå¯ä»¥ç”¨<code>INTERFACE</code>åº“çš„æ–¹å¼ç®¡ç†ï¼š</li>
</ol>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">add_library</span>(MyInterface INTERFACE)</span><br><span class="line"><span class="keyword">target_include_directories</span>(MyInterface INTERFACE <span class="variable">$&#123;CMAKE_SOURCE_DIR&#125;</span>/<span class="keyword">include</span>)</span><br></pre></td></tr></table></figure>
<p>æ¥å£åº“ï¼ˆ<code>INTERFACE</code>ï¼‰ç”¨äºé…ç½®ä¸€äº›å…¬å…±çš„é“¾æ¥å’Œç¼–è¯‘é€‰é¡¹ï¼Œå¸¸è§äºå¤§å‹é¡¹ç›®ã€‚</p>
<ol start="13">
<li>æä¾›é€‰é¡¹ç»™ç”¨æˆ·<br>ç”¨<code>option()</code>æä¾›å¯é…ç½®çš„åŠŸèƒ½å¼€å…³ï¼Œè®©ç”¨æˆ·æ›´çµæ´»åœ°ä½¿ç”¨ä½ çš„é¡¹ç›®ï¼š</li>
</ol>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">option</span>(ENABLE_TESTS <span class="string">&quot;Enable building tests&quot;</span> <span class="keyword">ON</span>)</span><br><span class="line"><span class="keyword">if</span> (ENABLE_TESTS)</span><br><span class="line">  <span class="keyword">add_subdirectory</span>(tests)</span><br><span class="line"><span class="keyword">endif</span>()</span><br></pre></td></tr></table></figure>

<ol start="14">
<li>ä½¿ç”¨<code>GNUInstallDirs</code>å®ç°è·¨å¹³å°å®‰è£…<br>ä¸ºäº†é€‚é…ä¸åŒå¹³å°çš„å®‰è£…è·¯å¾„ï¼Œä½¿ç”¨<code>GNUInstallDirs</code>æ¨¡å—ç¡®ä¿åº“åœ¨ Linuxã€Windows å’Œ macOS ä¸Šéƒ½èƒ½æ­£ç¡®å®‰è£…ï¼š</li>
</ol>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span>(GNUInstallDirs)</span><br><span class="line"></span><br><span class="line"><span class="keyword">install</span>(TARGETS mylib</span><br><span class="line">    ARCHIVE DESTINATION <span class="variable">$&#123;CMAKE_INSTALL_LIBDIR&#125;</span></span><br><span class="line">    LIBRARY DESTINATION <span class="variable">$&#123;CMAKE_INSTALL_LIBDIR&#125;</span></span><br><span class="line">    RUNTIME DESTINATION <span class="variable">$&#123;CMAKE_INSTALL_BINDIR&#125;</span></span><br><span class="line">    INCLUDES DESTINATION <span class="variable">$&#123;CMAKE_INSTALL_INCLUDEDIR&#125;</span>)</span><br></pre></td></tr></table></figure>

<ol start="15">
<li>æ”¯æŒå¤šå¹³å°å·¥å…·é“¾<br>å¦‚æœä½ çš„é¡¹ç›®éœ€è¦æ”¯æŒå¤šå¹³å°ï¼ˆæ¯”å¦‚ Windowsã€Linux å’Œ macOSï¼‰ï¼Œæˆ–è€…éœ€è¦äº¤å‰ç¼–è¯‘ï¼ˆæ¯”å¦‚ä¸ºåµŒå…¥å¼è®¾å¤‡æ„å»ºï¼‰ï¼Œæ­£ç¡®è®¾ç½®å·¥å…·é“¾æ–‡ä»¶æ˜¯å…³é”®ã€‚</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨è·¨å¹³å°é¡¹ç›®ä¸­ï¼Œç¡®ä¿æ­£ç¡®è®¾ç½®å·¥å…·é“¾æ–‡ä»¶</span></span><br><span class="line">cmake -DCMAKE_TOOLCHAIN_FILE=path/to/toolchain.cmake ..</span><br></pre></td></tr></table></figure>
<p>ç¼–å†™å·¥ä½œé“¾æ–‡ä»¶ï¼Œå¦‚ï¼š</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span>(CMAKE_SYSTEM_NAME Linux)</span><br><span class="line"><span class="keyword">set</span>(CMAKE_C_COMPILER /usr/bin/arm-linux-gnueabihf-gcc)</span><br><span class="line"><span class="keyword">set</span>(CMAKE_CXX_COMPILER /usr/bin/arm-linux-gnueabihf-g++)</span><br></pre></td></tr></table></figure>

<h2 id="3-å°ç»“"><a href="#3-å°ç»“" class="headerlink" title="3. å°ç»“"></a>3. å°ç»“</h2><ul>
<li>å†™å¥½<code>CMakeLists.txt</code>ä¸­åº“ã€å¤´æ–‡ä»¶ã€é…ç½®æ–‡ä»¶ã€ä¾èµ–åº“çš„å…³ç³»ï¼Œä¼˜é›…åˆ†å‘ä½ çš„åº“ï¼›</li>
<li>ä½¿ç”¨æœ€ä½³å®è·µï¼Œè®©é¡¹ç›®æ›´åŠ ä¸“ä¸šã€‚</li>
</ul>
<h2 id="4-ä¸‹ç¯‡é¢„å‘Š"><a href="#4-ä¸‹ç¯‡é¢„å‘Š" class="headerlink" title="4. ä¸‹ç¯‡é¢„å‘Š"></a>4. ä¸‹ç¯‡é¢„å‘Š</h2><p>ä¸‹ä¸€ç¯‡æ˜¯æœ¬ç³»åˆ—çš„æœ€åä¸€ç¯‡ï¼Œä»¥<code>spdlog</code>åº“ä¸ºä¾‹ï¼Œå¸®åŠ©è¯»è€…æ›´å¥½åœ°ç†è§£ CMake å¦‚ä½•åŠ©åŠ›å¼€æºåº“çš„åˆ†å‘å’Œä½¿ç”¨ã€‚</p>
</div>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2025-01-26</span>
            
                <span>è¯¥ç¯‡æ–‡ç« è¢« Zhang Chao</span>
            
            
                <span>æ‰“ä¸Šæ ‡ç­¾:
                    
                    
                        <a href='/tags/CMake/'>
                            CMake
                        </a>
                    
                </span>
             
             
                <span>å½’ä¸ºåˆ†ç±»:
                    
                    
                        <a href='/categories/%E5%B7%A5%E5%85%B7/'>
                            å·¥å…·
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    <br>
    
    
        
            
    
            <div class="post-footer-pre-next">
                

                
                    <span class="post-footer-pre-next-last-span-right">ä¸‹ä¸€ç¯‡ï¼š<a href="/2025/01/25/CMake-notes-4/">CMakeæ•™ç¨‹ï¼ˆå››ï¼‰ï¼šCMakeç”Ÿæˆå™¨è¡¨è¾¾å¼ä¸è‡ªå®šä¹‰å‘½ä»¤</a>
                    </span>
                
            </div>
    
        
    

    
        
    <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
         
    </div>
    
        

    
    
    
    </div>


     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
            Â© 2025 Cz 

            
                

            
                
                    / <a href="/contact/"> è”ç³» </a>
                

            
        </span>
       
    
</div>



<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>ğŸŒŠäº¦ä½™å¿ƒä¹‹æ‰€å–„å…®ï¼Œè™½ä¹æ­»å…¶çŠ¹æœªæ‚”ğŸŒŠ</span>
            
                <span class="footer-last-span-right"><i>æœ¬ç«™ç”±<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/index.html">Hexo</a>é©±åŠ¨ï½œä½¿ç”¨<a target="_blank" rel="noopener" href="https://github.com/HiNinoJay/hexo-theme-A4">Hexo-theme-A4</a>ä¸»é¢˜</i></span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--ç›®å½•-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    

    
<script src="/js/randomHeaderContent.js"></script>

    <!--å›åˆ°é¡¶éƒ¨æŒ‰é’®-->
    
        
<script src="/js/returnToTop.js"></script>

    

    
        
<script src="/js/returnToLastPage.js"></script>

    





<script src="/js/lightgallery/lightgallery.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-thumbnail.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-fullscreen.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-autoplay.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-zoom.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-rotate.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-paper.umd.min.js"></script>




<script type="text/javascript">
     
    if (typeof lightGallery !== "undefined") {
        var options1 = {
            selector: '.gallery-item',
            plugins: [lgThumbnail, lgFullscreen, lgAutoplay, lgZoom, lgRotate, lgPager], // å¯ç”¨æ’ä»¶
            thumbnail: true,          // æ˜¾ç¤ºç¼©ç•¥å›¾
            zoom: true,               // å¯ç”¨ç¼©æ”¾åŠŸ
            rotate: true,             // å¯ç”¨æ—‹è½¬åŠŸèƒ½èƒ½
            autoplay: true,        // å¯ç”¨è‡ªåŠ¨æ’­æ”¾åŠŸèƒ½
            fullScreen: true,      // å¯ç”¨å…¨å±åŠŸèƒ½
            pager: false, //é¡µç ,
            zoomFromOrigin: true,   // ä»åŸå§‹ä½ç½®ç¼©æ”¾
            actualSize: true,       // å¯ç”¨æŸ¥çœ‹å®é™…å¤§å°çš„åŠŸèƒ½
            enableZoomAfter: 300,    // å»¶è¿Ÿç¼©æ”¾ï¼Œç¡®ä¿å›¾ç‰‡åŠ è½½å®Œæˆåå¯ç¼©æ”¾
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options1); // ä¿®å¤é€‰æ‹©å™¨
    }
    
</script>


    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> 

                </div>
            
            
                <!-- å›åˆ°é¡¶éƒ¨çš„æŒ‰é’®-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
            
                <!-- è¿”å›çš„æŒ‰é’®-->  
                <div class="return-to-last-progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>
</html>